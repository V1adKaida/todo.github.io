(function(){"use strict";var e={6604:function(e,o,t){var n=t(9242),a=t(3396);function i(e,o){const t=(0,a.up)("router-view"),n=(0,a.up)("notifications");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(t),(0,a.Wm)(n,{position:"bottom right"})],64)}var s=t(89);const r={},l=(0,s.Z)(r,[["render",i]]);var c=l,d=t(2483);const u=e=>((0,a.dD)("data-v-60a89b52"),e=e(),(0,a.Cn)(),e),g={class:"main"},m={class:"container"},p=u((()=>(0,a._)("input",{type:"checkbox",checked:"",id:"chk","aria-hidden":"false"},null,-1))),h={class:"signup"},f=u((()=>(0,a._)("label",{for:"chk","aria-hidden":"true"},"Sign up",-1))),v=u((()=>(0,a._)("button",null,"Sign up",-1))),w={class:"login"},b=u((()=>(0,a._)("label",{for:"chk","aria-hidden":"true"},"Login",-1))),y=u((()=>(0,a._)("button",null,"Login",-1))),_=u((()=>(0,a._)("svg",{height:"70%",viewBox:"0 0 20 20",width:"100%",fit:"",preserveAspectRatio:"xMidYMid meet",focusable:"false"},[(0,a._)("path",{d:"M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z",fill:"#4285F4"}),(0,a._)("path",{d:"M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64 0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89 6.62-2.42l-3.16-2.45z",fill:"#34A853"}),(0,a._)("path",{d:"M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 000 10c0 1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z",fill:"#FBBC05"}),(0,a._)("path",{d:"M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0 2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z",fill:"#EA4335"})],-1))),D=[_];function k(e,o,t,i,s,r){return(0,a.wg)(),(0,a.iD)("div",g,[(0,a._)("div",m,[p,(0,a._)("div",h,[(0,a._)("form",{onSubmit:o[2]||(o[2]=(0,n.iM)(((...e)=>r.signup&&r.signup(...e)),["prevent"]))},[f,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>s.siginupEmail=e),type:"email",name:"email",placeholder:"Email",required:""},null,512),[[n.nr,s.siginupEmail]]),(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>s.siginupPassword=e),type:"password",name:"pswd",placeholder:"Password",required:""},null,512),[[n.nr,s.siginupPassword]]),v],32)]),(0,a._)("div",w,[(0,a._)("form",{onSubmit:o[6]||(o[6]=(0,n.iM)(((...e)=>r.login&&r.login(...e)),["prevent"]))},[b,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":o[3]||(o[3]=e=>s.loginEmail=e),type:"email",name:"email",placeholder:"Email",required:""},null,512),[[n.nr,s.loginEmail]]),(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":o[4]||(o[4]=e=>s.loginPassword=e),type:"password",name:"pswd",placeholder:"Password",required:""},null,512),[[n.nr,s.loginPassword]]),y,(0,a._)("button",{onClick:o[5]||(o[5]=(0,n.iM)(((...e)=>r.googleLogin&&r.googleLogin(...e)),["prevent"]))},D)],32)])])])}var S={name:"McvAuthorization",data(){return{siginupEmail:"",siginupPassword:"",loginEmail:"",loginPassword:""}},methods:{signup(){this.$store.dispatch("register",{email:this.siginupEmail,password:this.siginupPassword}).then((()=>{this.$router.go({name:"todo"})}))},login(){this.$store.dispatch("login",{email:this.loginEmail,password:this.loginPassword}).then((()=>{this.$router.go({name:"todo"})}))},googleLogin(){this.$store.dispatch("googleLogin").then((()=>{this.$router.go({name:"todo"})}))}}};const T=(0,s.Z)(S,[["render",k],["__scopeId","data-v-60a89b52"]]);var I=T;function L(e,o,t,n,i,s){const r=(0,a.up)("to-do-list");return(0,a.wg)(),(0,a.j4)(r)}var P=t(7139);const O=e=>((0,a.dD)("data-v-43ba4c94"),e=e(),(0,a.Cn)(),e),$={class:"center"},x={class:"card"},E={class:"header"},C=O((()=>(0,a._)("div",{class:"title"}," ToDo ",-1))),N={class:"avatar"},R={class:"person"},M={key:0,class:"name"},V={class:"image"},j=["src"],U={class:"drop-down"},z={class:"form-group"},H={class:"drag"},Z={class:"checkbox"},F=["onClick","onUpdate:modelValue"],A=O((()=>(0,a._)("span",{class:"checkbox--tick"},null,-1))),W={class:"date"},q=["onClick"];function B(e,o,t,i,s,r){const l=(0,a.up)("font-awesome-icon"),c=(0,a.up)("contenteditable"),d=(0,a.up)("draggable");return(0,a.wg)(),(0,a.iD)("div",$,[(0,a._)("div",x,[(0,a._)("div",E,[C,(0,a._)("div",N,[(0,a._)("div",R,[e.userName?((0,a.wg)(),(0,a.iD)("div",M,(0,P.zw)(e.userName),1)):(0,a.kq)("",!0),(0,a._)("div",V,[e.image?((0,a.wg)(),(0,a.iD)("img",{key:0,src:e.image,alt:""},null,8,j)):((0,a.wg)(),(0,a.j4)(l,{key:1,icon:"fas fa-user-alt"}))])]),(0,a._)("div",U,[(0,a._)("div",{onClick:o[0]||(o[0]=(...e)=>r.singout&&r.singout(...e))},"Logout")])])]),(0,a._)("div",z,[(0,a.wy)((0,a._)("input",{class:"main",type:"text","onUpdate:modelValue":o[1]||(o[1]=e=>s.newToDo=e),onKeyup:o[2]||(o[2]=(0,n.D2)((e=>r.addNewToDo(s.newToDo)),["enter"]))},null,544),[[n.nr,s.newToDo]]),(0,a._)("button",{onClick:o[3]||(o[3]=e=>r.addNewToDo(s.newToDo))},[(0,a.Wm)(l,{icon:"fa-solid fa-arrow-right "})])]),(0,a.Wm)(d,{class:"todo-list",list:s.todos,onChange:r.draggable,"item-key":"id",handle:".drag","ghost-class":"ghost"},{item:(0,a.w5)((({element:e})=>[(0,a._)("div",{class:(0,P.C_)(["todo-list__item",{complate:e.complate}])},[(0,a._)("div",null,[(0,a._)("div",H,[(0,a.Wm)(l,{icon:"fas fa-ellipsis-v"})]),(0,a._)("label",Z,[(0,a.wy)((0,a._)("input",{type:"checkbox",onClick:o=>r.complate(e.id,e.complate),"onUpdate:modelValue":o=>e.complate=o},null,8,F),[[n.e8,e.complate]]),A]),(0,a.Wm)(c,{class:"name",tag:"div",contenteditable:!0,modelValue:e.name,"onUpdate:modelValue":o=>e.name=o,modelModifiers:{trim:!0},onClickOnce:r.notify,"no-nl":!0,"no-html":!0,onReturned:o=>r.editName(e.name,e.id)},null,8,["modelValue","onUpdate:modelValue","onClickOnce","onReturned"])]),(0,a._)("div",null,[(0,a._)("div",W,(0,P.zw)(e.day)+" "+(0,P.zw)(e.mounth),1),(0,a._)("button",{onClick:o=>r.remove(e.id),class:"icon"},[(0,a.Wm)(l,{icon:"fas fa-trash-alt "})],8,q)])],2)])),_:1},8,["list","onChange"])])])}var J=t(1178),K=t(65),X=t(8796),Y=t(6983),G=t.n(Y),Q={name:"ToDoList",components:{contenteditable:X.Z,draggable:G()},data(){return{todos:[],newToDo:""}},computed:{...(0,K.rn)({userName:e=>e.userData.displayName,image:e=>e.userData.photoURL,userId:e=>e.userData.uid})},methods:{async addNewToDo(e){if(!this.newToDo)return;const o="undefined"!==typeof this.todos[0]?this.todos[this.todos.length-1].id+1:0,t=new Date,n=t.toLocaleString("default",{month:"long"}),a=t.getDate(),i=(0,J.N8)(),s={name:e,id:o,complate:!1,day:a,mounth:n};await(0,J.t8)((0,J.iH)(i,`todos/${this.userId}/${o}`),s),this.newToDo=""},async draggable(){this.todos.forEach(((e,o)=>{e.id=o}));const e=(0,J.N8)(),o={};o[`todos/${this.userId}/`]=this.todos,await(0,J.Vx)((0,J.iH)(e),o)},async editName(e,o){const t=(0,J.N8)(),n={};n[`todos/${this.userId}/${o}/name/`]=e,await(0,J.Vx)((0,J.iH)(t),n)},async complate(e,o){const t=(0,J.N8)(),n={};n[`todos/${this.userId}/${e}/complate/`]=!o,await(0,J.Vx)((0,J.iH)(t),n)},async remove(e){const o=(0,J.N8)();await(0,J.Od)((0,J.iH)(o,`todos/${this.userId}/${e}`))},singout(){this.$store.dispatch("logout").then((()=>{this.$router.push({name:"auth"})}))},notify(){this.$notify({title:"Press enter to edit",type:"succes",position:"top center",duration:"10000"})},async realFetch(){const e=(0,J.N8)(),o=(0,J.iH)(e,`todos/${this.userId}`);await(0,J.jM)(o,(e=>{if(e.val()){const o=Object.values(e.val());this.todos=o}else this.todos=[],this.$notify({title:"No data available",type:"warn",ignoreDuplicates:!0})}))}},beforeUpdate(){this.realFetch()}};const ee=(0,s.Z)(Q,[["render",B],["__scopeId","data-v-43ba4c94"]]);var oe=ee,te={name:"ToDoPage",components:{ToDoList:oe}};const ne=(0,s.Z)(te,[["render",L]]);var ae=ne;const ie=[{path:"/",name:"auth",component:I},{path:"/todo",name:"todo",component:ae}],se=(0,d.p7)({history:(0,d.PO)("/"),routes:ie});se.beforeEach((async e=>{const o=localStorage.getItem("accessToken");return"auth"===e.name||o?"auth"==e.name&&o?{name:"todo"}:void 0:{name:"auth"}}));var re=se,le=t(2636);const ce=(e,o)=>{try{localStorage.setItem(e,JSON.stringify(o))}catch(t){console.log("Error saving data LS",t)}};var de=t(4028);const ue=new de.hJ,ge=(0,n.ri)({}).use(le.Z);var me=(0,K.MT)({state:{userData:{},isLoggedIn:!1},getters:{userData:e=>e.userData,isLoggedIn:e=>Boolean(e.isLoggedIn)},mutations:{registerSuccess(e,o){e.isLoggedIn=!0,e.userData=o},loginSuccess(e,o){e.isLoggedIn=!0,e.userData=o},googleLoginSuccess(e,o){e.isLoggedIn=!0,e.userData=o},stateSuccess(e,o){e.isLoggedIn=!0,e.userData=o},loginFailure(e,o){e.isSubmitting=!1,e.validationErrors=o},logout(e){e.userData=[],e.isLoggedIn=!1}},actions:{register(e,o){return new Promise((t=>{const n=(0,de.v0)();(0,de.Xb)(n,o.email,o.password).then((o=>{console.log(o),e.commit("registerSuccess",o.user),ce("accessToken",o.user.uid),t(o.user)})).catch((e=>{ge.config.globalProperties.$notify({title:"Signup ERROR",text:e.message,type:"error"})}))}))},login(e,o){return new Promise((t=>{const n=(0,de.v0)();(0,de.e5)(n,o.email,o.password).then((o=>{console.log(o),e.commit("loginSuccess",o.user),ce("accessToken",o.user.uid),t(o.user)})).catch((e=>{ge.config.globalProperties.$notify({title:"Login ERROR",text:e.message,type:"error"})}))}))},googleLogin(e){return new Promise((o=>{const t=(0,de.v0)();(0,de.rh)(t,ue).then((t=>{const n=de.hJ.credentialFromResult(t),a=n.accessToken,i=t.user;e.commit("loginSuccess",i),ce("accessToken",a),o(i)})).catch((e=>{ge.config.globalProperties.$notify({title:"Login ERROR",text:e.message,type:"error"})}))}))},state(e){return new Promise((o=>{const t=(0,de.v0)();(0,de.Aj)(t,(t=>{t?(e.commit("stateSuccess",t),ce("accessToken",t.uid),o(t)):localStorage.removeItem("accessToken")}))}))},logout(e){return new Promise((o=>{const t=(0,de.v0)();(0,de.w7)(t).then((()=>{localStorage.removeItem("accessToken"),e.commit("logout"),o()})).catch((e=>{ge.config.globalProperties.$notify({title:"Login ERROR",text:e.message,type:"error"})}))}))}},modules:{}}),pe=t(8125),he=t(7749),fe=t(8321),ve=t(4275);pe.vI.add(fe.mRB);const we={apiKey:"AIzaSyD0E9ZrfCxqEJV8Nhx7vbgzfiXOlx5RUis",authDomain:"thematic-coda-303619.firebaseapp.com",projectId:"thematic-coda-303619",storageBucket:"thematic-coda-303619.appspot.com",messagingSenderId:"575127103060",appId:"1:575127103060:web:54ab2916354a4c427d2fc1",databaseURL:"https://thematic-coda-303619-default-rtdb.europe-west1.firebasedatabase.app/"},be=(0,ve.ZF)(we);(0,de.v0)(be),(0,J.N8)(be),(0,n.ri)(c).use(re).use(le.Z).use(me).component("font-awesome-icon",he.GN).mount("#app")}},o={};function t(n){var a=o[n];if(void 0!==a)return a.exports;var i=o[n]={exports:{}};return e[n].call(i.exports,i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(o,n,a,i){if(!n){var s=1/0;for(d=0;d<e.length;d++){n=e[d][0],a=e[d][1],i=e[d][2];for(var r=!0,l=0;l<n.length;l++)(!1&i||s>=i)&&Object.keys(t.O).every((function(e){return t.O[e](n[l])}))?n.splice(l--,1):(r=!1,i<s&&(s=i));if(r){e.splice(d--,1);var c=a();void 0!==c&&(o=c)}}return o}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,a,i]}}(),function(){t.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(o,{a:o}),o}}(),function(){t.d=function(e,o){for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(o){return 0===e[o]};var o=function(o,n){var a,i,s=n[0],r=n[1],l=n[2],c=0;if(s.some((function(o){return 0!==e[o]}))){for(a in r)t.o(r,a)&&(t.m[a]=r[a]);if(l)var d=l(t)}for(o&&o(n);c<s.length;c++)i=s[c],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(d)},n=self["webpackChunkvue_todo"]=self["webpackChunkvue_todo"]||[];n.forEach(o.bind(null,0)),n.push=o.bind(null,n.push.bind(n))}();var n=t.O(void 0,[998],(function(){return t(6604)}));n=t.O(n)})();
//# sourceMappingURL=app.b724ff86.js.map